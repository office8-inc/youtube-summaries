# ハルシネーションを防ぐための指示

## 基本原則
- **推測や憶測で回答しない**：不確かな情報や曖昧な知識に基づいて回答しない
- **根拠のない情報を提供しない**：必ず検証可能な情報源に基づいて回答する
- **不明な点は調査する**：分からないことがあれば、必ず適切なツールを使って調査する

## 情報収集の徹底
不明点や曖昧な情報がある場合、以下の方法で必ず根拠を確認してから回答すること：

### 1. コードベースの確認
- `read_file`: 実際のソースコードを読んで実装を確認
- `grep_search`: コード内の特定の文字列やパターンを検索
- `semantic_search`: 関連するコードや実装を意味的に検索
- `list_code_usages`: 関数やクラスの使用箇所を確認

### 2. Web情報の確認
- `fetch_webpage`: 公式ドキュメントやリファレンスを取得
- GitHub リポジトリの確認が必要な場合は適切なツールを使用

### 3. 実行環境の確認
- `run_in_terminal`: コマンドを実行して実際の動作や環境を確認
- `get_errors`: 実際のエラー情報を取得して分析

## 禁止事項
- ❌ ファイルの内容を読まずに「おそらく〜」「一般的に〜」と推測で回答
- ❌ APIやライブラリの仕様を確認せずに使い方を説明
- ❌ エラーメッセージを見ずに原因を推測
- ❌ 存在を確認していないファイルやコードについて言及

## 推奨事項
- ✅ 分からないことは率直に「確認します」と伝えてツールを使用
- ✅ 複数の情報源を並行して確認し、確実な情報を収集
- ✅ 実際のコードやドキュメントを引用して根拠を明示
- ✅ 不確実な場合は「〜の可能性があります」ではなく、調査してから回答
- ✅ **日進月歩しているツールや機能については、必ず最新情報を確認する**（公式ドキュメント、changelog、リリースノートなどを`fetch_webpage`で確認）

## セキュリティに関する注意事項

### 機密情報の取り扱い
⚠️ **このリポジトリはPublicです。以下の情報は絶対に公開しないでください：**

- ❌ API キー（YouTube API キーなど）
- ❌ パスワード（FTPパスワード、データベースパスワードなど）
- ❌ アクセストークン（GitHub Personal Access Token など）
- ❌ 個人情報や企業の機密情報

### 環境変数の管理
- ✅ `.env`ファイルは必ず`.gitignore`に含める
- ✅ 環境変数のサンプルは`.env.example`として提供
- ✅ READMEには実際の値ではなく、プレースホルダーを記載
- ✅ GitHub Secretsを使用してCI/CD環境で安全に機密情報を管理

### コミット前のチェック
コミット前に以下を必ず確認：
1. `.env`ファイルがコミット対象に含まれていないか
2. ハードコードされたAPI キーやパスワードがないか
3. 個人情報や企業情報が含まれていないか
4. `.gitignore`が適切に設定されているか
5. **VS Codeの問題タブ（Problems）のエラーを全て解消する** - 構文エラー、リントエラー、型エラーなどが残っていないことを確認

## プロジェクト固有の指示

### YouTube要約記事生成
このプロジェクトでは、YouTube動画から要約記事を自動生成します。

#### 使用可能なコマンド
```bash
# 単一動画の処理
python improved_summarize_youtube.py <YouTube URL> xserver/summaries --push

# チャンネルから最新N件を処理
python improved_summarize_youtube.py --channel <Channel URL> --limit N xserver/summaries --push

# channel-list.mdの全チャンネルを処理
python improved_summarize_youtube.py --from-list --limit N xserver/summaries --push
```

#### 重要な機能
- **重複チェック**: 既に処理済みの動画は自動スキップ
- **自動プッシュ**: `--push` オプションで自動的にgit commit & push
- **ワークフロートリガー**: プッシュ後、GitHub Actionsが起動してCopilotに改善タスクをアサイン

#### GitHub Actions ワークフロー
- `xserver/summaries/**/*.md` への変更を検知
- 自動的にIssueを作成し、Copilot coding agentをアサイン
- Copilotが記事の品質改善を提案

### 開発時の注意事項
- テスト時は `--limit 1` で1件ずつ処理
- 本番時は `--limit 10` で10件ずつ処理
- YouTube Data API のクォータに注意（1日あたりの制限あり）
- 字幕が取得できない動画は自動的にスキップされる
